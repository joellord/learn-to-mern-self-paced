"use strict";(self.webpackChunkswiftui_realm_app=self.webpackChunkswiftui_realm_app||[]).push([[4464],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=u(r),m=a,h=d["".concat(l,".").concat(m)]||d[m]||c[m]||o;return r?n.createElement(h,s(s({ref:t},p),{},{components:r})):n.createElement(h,s({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:a,s[1]=i;for(var u=2;u<o;u++)s[u]=r[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},144:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const o={},s="Create more routes",i={unversionedId:"node/more-routes",id:"node/more-routes",title:"Create more routes",description:"In express, you can create multiple routes in a single file. In this workshop, we'll build a REST server. REST stands for Representational State Transfer. It's a fancy way of saying that we'll be using HTTP methods to interact with our server. We'll be using the following HTTP methods:",source:"@site/docs/5-node/3-more-routes.mdx",sourceDirName:"5-node",slug:"/node/more-routes",permalink:"/mern-workshop/docs/node/more-routes",draft:!1,editUrl:"https://github.com/mongodb-developer/mern-workshop/blob/main/docs/5-node/3-more-routes.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Express",permalink:"/mern-workshop/docs/node/express"},next:{title:"Get working!",permalink:"/mern-workshop/docs/node/get-working"}},l={},u=[{value:"Create the GET route",id:"create-the-get-route",level:2},{value:"Create a GET route with a parameter",id:"create-a-get-route-with-a-parameter",level:2},{value:"Create a POST route",id:"create-a-post-route",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...r}=e;return(0,a.kt)(d,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"create-more-routes"},"Create more routes"),(0,a.kt)("p",null,"In express, you can create multiple routes in a single file. In this workshop, we'll build a REST server. REST stands for Representational State Transfer. It's a fancy way of saying that we'll be using HTTP methods to interact with our server. We'll be using the following HTTP methods:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"GET: Retrieve data from the server"),(0,a.kt)("li",{parentName:"ul"},"POST: Send data to the server"),(0,a.kt)("li",{parentName:"ul"},"PUT: Update data on the server"),(0,a.kt)("li",{parentName:"ul"},"DELETE: Delete data from the server")),(0,a.kt)("p",null,"Following the rest standard, we will use these verbs to interact with our data. For example, if we want to get all the users, we'll use the GET method on ",(0,a.kt)("inlineCode",{parentName:"p"},"/users"),"."),(0,a.kt)("p",null,"If we want to get a specific user, we'll use the GET method on ",(0,a.kt)("inlineCode",{parentName:"p"},"/users/:id"),". The ",(0,a.kt)("inlineCode",{parentName:"p"},":id")," is a parameter. It's a variable that we can use in our route. For example, if we want to get the user with the id 1, we'll use the route ",(0,a.kt)("inlineCode",{parentName:"p"},"/users/1"),"."),(0,a.kt)("p",null,"To add a new user, we would use the POST method on ",(0,a.kt)("inlineCode",{parentName:"p"},"/users"),". We'll send the data of the new user in the body of the request."),(0,a.kt)("h2",{id:"create-the-get-route"},"Create the GET route"),(0,a.kt)("p",null,"Let's create a new route to get all the users. We'll use the ",(0,a.kt)("inlineCode",{parentName:"p"},"get")," method on the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," object. The first argument is the route. The second argument is a callback function that will be called when the route is called. The callback function takes two arguments: the request and the response. The request contains all the information about the request. The response is used to send a response to the client."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const movies = [{ id: 1, name: 'Inception' }, { id: 2, name: 'The Matrix' }];\n\napp.get('/movies', (req, res) => {\n  res.send(movies).status(200);\n});\n")),(0,a.kt)("h2",{id:"create-a-get-route-with-a-parameter"},"Create a GET route with a parameter"),(0,a.kt)("p",null,"We can also use parametrized routes. This would typically be used to retrieve a single entry for a collection."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"app.get('/movies/:id', (req, res) => {\n  const movie = movies.find((movie) => movie.id === parseInt(req.params.id));\n  if (!movie) {\n    return res.status(404).send('Movie not found');\n  }\n  res.send(movie).status(200);\n});\n")),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Note how we used ",(0,a.kt)("inlineCode",{parentName:"p"},"parseInt")," here to convert the parameter into a number. Parameters in Express are strings by default.")),(0,a.kt)("h2",{id:"create-a-post-route"},"Create a POST route"),(0,a.kt)("p",null,"Let's create a route to add a new movie. We'll use the ",(0,a.kt)("inlineCode",{parentName:"p"},"post")," method on the ",(0,a.kt)("inlineCode",{parentName:"p"},"app")," object. The first argument is the route. The second argument is a callback function that will be called when the route is called. The callback function takes two arguments: the request and the response. The request contains all the information about the request. The response is used to send a response to the client."),(0,a.kt)("p",null,"You will also need to add the middleware ",(0,a.kt)("inlineCode",{parentName:"p"},"express.json()")," to your app. This will allow you to access the body of the request."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"app.use(express.json());\n\napp.post('/movies', (req, res) => {\n  const movie = {\n    id: movies.length + 1,\n    name: req.body.name,\n  };\n  movies.push(movie);\n  res.send(movie).status(201);\n});\n")))}c.isMDXComponent=!0}}]);